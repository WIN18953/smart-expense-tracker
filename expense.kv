ScreenManager:
    HomeScreen:
        name: "home"
    AddScreen:
        name: "add"
    ReportScreen:
        name: "report"
    SettingScreen:
        name: "setting"


<HomeScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10

        Label:
            text: "Smart Expense Tracker"
            font_size: 28

        Label:
            id: income_label
            text: "Income: 0"

        Label:
            id: expense_label
            text: "Expense: 0"

        Label:
            id: balance_label
            text: "Balance: 0"

        Button:
            text: "Add Transaction"
            on_press: root.manager.current = "add"

        Button:
            text: "View Report"
            on_press: root.manager.current = "report"

        Button:
            text: "Settings"
            on_press: root.manager.current = "setting"

        Label:
            text: "Transactions:"

        ScrollView:
            GridLayout:
                id: transaction_list
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                spacing: 5



<AddScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10

        Label:
            text: "Add Transaction"
            font_size: 24

        TextInput:
            id: amount_input
            hint_text: "Amount"
            input_filter: "float"

        TextInput:
            id: note_input
            hint_text: "Note"

        Spinner:
            id: type_spinner
            text: "Income"
            values: ["Income", "Expense"]

        Spinner:
            id: category_spinner
            text: "General"
            values: ["General", "Food", "Travel", "Study", "Other"]

        TextInput:
            id: date_input
            hint_text: "Date (YYYY-MM)"

        Button:
            text: "Save"
            on_press: root.save_transaction()

        Button:
            text: "Cancel"
            on_press: root.manager.current = "home"



<ReportScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10

        Label:
            text: "Monthly Report"
            font_size: 24

        Spinner:
            id: month_spinner
            text: "Select Month"
            values: []

        Button:
            text: "Filter"
            on_press: root.filter_report()

        Label:
            id: report_income
            text: "Income: 0"

        Label:
            id: report_expense
            text: "Expense: 0"

        Label:
            id: report_balance
            text: "Balance: 0"

        Button:
            text: "Back"
            on_press: root.manager.current = "home"


<SettingScreen>:
    BoxLayout:
        orientation: "vertical"

        Label:
            text: "Settings"

        Button:
            text: "Back"
            on_press: root.manager.current = "home"
